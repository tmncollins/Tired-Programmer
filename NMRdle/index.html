
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>NMRdle</title>
	<link rel="icon" type="image/png" href="favicon.png" />
  <style>
    :root{
      --bg: #ffffff; --fg:#111827; --card:#ffffff; --muted:#f3f4f6; --border:#e5e7eb; --muted-fg:#6b7280;
      --success:#6aaa64; --danger:#d7373f;  --shadow: 0 6px 18px rgba(0,0,0,.06);
    }
    .dark{
      --bg:#0b0c10; --fg:#e5e7eb; --card:#13151a; --muted:#1b1e25; --border:#2a2f3a; --muted-fg:#9aa4b2;
      --shadow: 0 6px 18px rgba(0,0,0,.35);
    }
    body{margin:0;font-family:sans-serif;background:var(--bg);color:var(--fg)}
    .container{width:90%;margin:auto;padding:20px;display:grid;grid-template-columns:2fr 3fr;gap:20px}
    .left{border:1px solid var(--border);padding:20px;border-radius:12px;background:var(--card);box-shadow:var(--shadow)}
    .right{display:grid;grid-template-columns:repeat(3,1fr);gap:10px}
    .tile{border:1px solid var(--border);border-radius:8px;overflow:hidden;cursor:pointer;background:var(--muted);display:flex;align-items:center;justify-content:center;transition:transform 0.15s ease;}
    .tile:hover:not(.correct):not(.incorrect){transform:scale(1.05);}
    .tile img{width:100%;height:100%;object-fit:contain;}
    .tile.correct{background:var(--success)!important;transform:none;}
    .tile.incorrect{background:var(--danger)!important;transform:none;}
    .topbar{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;border-bottom:1px solid var(--border)}
    .switch-wrapper{display:flex;align-items:center;gap:8px;}
    .lives-wrapper{margin: auto;display:flex;align-items:center;gap:8px;}
    .switch{position:relative;display:inline-block;width:40px;height:20px;}
    .switch input{opacity:0;width:0;height:0;}
    .slider{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:var(--muted-fg);transition:.4s;border-radius:34px;}
    .slider:before{position:absolute;content:"";height:14px;width:14px;left:3px;bottom:3px;background-color:white;transition:.4s;border-radius:50%;}
    input:checked + .slider{background-color:var(--success);}
    input:checked + .slider:before{transform:translateX(20px);}
    .nmr-image{max-width:100%;margin-top:5px;border:1px solid var(--border);border-radius:8px;transition:transform 0.15s ease;cursor:pointer;}
    .nmr-image:hover{transform:scale(1.05);}
    .fullscreen-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.9);display:flex;align-items:center;justify-content:center;z-index:1000;}
    .fullscreen-overlay img{max-width:90%;max-height:90%;margin: 15px auto 0 auto;display: block;}
    .close-btn{position:absolute;top:20px;right:30px;color:white;font-size:30px;cursor:pointer;}
.info-btn {background: none;border: none;cursor: pointer;display: flex;align-items: center;justify-content: center;padding: 4px;transition: transform 0.15s ease;color: var(--fg);}
.info-btn svg {width: 22px;height: 22px;}
.info-btn:hover {transform: scale(1.2);color: var(--success);}
.icon {height: 25px;}
.icon-dark {height: 25px; filter:invert();}

.bar-container { display: flex; width: 100%; height: 25px;margin-top: 10px; border: 1px solid var(--border); border-radius: 6px; overflow: hidden;}
.bar-segment {flex: 1; display: flex; align-items: center; justify-content: center; font-size: 0.8em; font-weight: bold; color: white;}

.lives-0 { background: #d7373f; }  /* red */
.lives-1 { background: #e25d2f; }  /* reddish-orange */
.lives-2 { background: #e6a93b; }  /* orange-yellow */
.lives-3 { background: #c6c93f; }  /* yellow-green */
.lives-4 { background: #8bc34a; }  /* mid green */
.lives-5 { background: #4caf50; }  /* full green */


#shareBtn {background: var(--success);border: none;padding: 10px 20px;color: white;border-radius: 8px;cursor: pointer;margin: 15px auto 0 auto; /* centers horizontally */
  font-size: 1em;display: block; /* needed for margin auto centering */text-align: center;}
#shareBtn:hover {background: #579d55;transform:scale(1.05);}
#donateAction {background: var(--success);border: none;padding: 10px 20px;color: white;border-radius: 8px;cursor: pointer;margin: 15px auto 0 auto; /* centers horizontally */
  font-size: 1em;display: block; /* needed for margin auto centering */text-align: center;}
#donateAction:hover {background: #579d55;transform:scale(1.05);}

/* Modal styles */
.modal {display: none;position: fixed;z-index: 2000;left: 0; top: 0;width: 100%; height: 100%;background: rgba(0,0,0,0.6);display: flex;align-items: center;justify-content: center;}
.modal-content {background: var(--card);color: var(--fg);padding: 20px;border-radius: 10px;max-width: 500px;box-shadow: var(--shadow);position: relative;}
.modal .close {position: absolute;top: 10px; right: 15px;font-size: 24px;cursor: pointer;}
.modal-overlay {background: var(--card);color: var(--fg);padding: 20px;border-radius: 10px;max-width: 90%;box-shadow: var(--shadow);position: relative;align-items:center;justify-content:center;}
.modal-button {background: var(--success);border: none;padding: 10px 20px;color: white;border-radius: 8px;cursor: pointer;margin: 15px auto 0 auto; /* centers horizontally */
  font-size: 1em;display: block; /* needed for margin auto centering */text-align: center;}
.modal-button:hover {background: #579d55;transform:scale(1.05);}


/* Startup modal specifics */
.start-modal-content { max-width: 640px;width: 92%;padding: 22px;border-radius: 12px;display: flex;flex-direction: column;align-items: center;gap: 12px;}

/* Two square buttons side-by-side */
.start-options {display: flex;gap: 16px;width: 100%;justify-content: center;}

/* Each option is a square button */
.start-option {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 10px;
  width: 170px;            /* square-ish */
  height: 170px;
  padding: 8px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 8px;
  cursor: pointer;
  box-shadow: var(--shadow);
  transition: transform .12s ease, box-shadow .12s ease, border-color .12s;
}
.start-option img {width: 70%;height: 70%;object-fit: cover;border-radius: 8px;display: block;}
.start-option .opt-label {font-weight: 700;font-size: 0.95rem;margin-top: 10px;background: transparent;color: var(--fg);}

/* hover & focus */
.start-option:hover {transform:scale(1.05);}
 }
.start-option:focus { outline: 3px solid color-mix(in srgb, var(--success) 20%, transparent); outline-offset: 4px; }

/* small-screen responsiveness */
@media (max-width:600px) {
  .start-options { gap: 10px; flex-direction: column; }
  .start-option { width: 86%; height: 160px; }}


/* Date input styled */
#puzzleDate {padding: 8px 12px;font-size: 1rem;border: 1px solid var(--border);border-radius: 6px;background: var(--muted);color: var(--fg);margin: 15px auto 0 auto;display: block;}

  </style>
</head>
<body>
    <script type="text/javascript" src="https://unpkg.com/smiles-drawer@2.0.1/dist/smiles-drawer.min.js"></script>
  <div class="topbar">
    <img id="icon" src="favicon.png" class="icon">
	<div><strong>NMRdle <span id="number">#1</span></strong> ‚Äî üî• <span id="streak">0</span></div>
  <div class = "lives-wrapper">‚ù§Ô∏è <span id="lives">5</span></div>
    <div class="switch-wrapper">
<button class="info-btn" id="infoBtn" aria-label="About">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
      <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="none"/>
      <line x1="12" y1="8" x2="12" y2="8" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
      <line x1="12" y1="11" x2="12" y2="16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
    </svg>
  </button> 

<button id="weeklyBtn" class="info-btn" aria-label="Weekly">
	<img id="2Dicon" src="2dfavicon.jpg" style="width:25px">
</button>    


<button id="statsBtn" class="info-btn" aria-label="Statistics">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="22" height="22" fill="currentColor">
    <rect x="3" y="10" width="4" height="11" rx="1"></rect>
    <rect x="10" y="2" width="4" height="19" rx="1"></rect>
    <rect x="17" y="6" width="4" height="15" rx="1"></rect>
  </svg>
</button>    

<button id="calendarBtn" class="info-btn" title="Select Date" aria-label="Select Date">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"
       width="22" height="22" fill="none" stroke="currentColor"
       stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
    <title>Calendar</title>
    <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
    <line x1="16" y1="2" x2="16" y2="6"></line>
    <line x1="8" y1="2" x2="8" y2="6"></line>
    <line x1="3" y1="10" x2="21" y2="10"></line>
  </svg>
</button>
 
   <!-- üí≤ Donate button -->
    <button id="donateBtn" class="info-btn" title="Donate">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor"
           viewBox="0 0 24 24" width="24" height="24">
        <path stroke-width="2" d="M12 1v22M17 5H9.5a3.5 3.5 0 000 7h5a3.5 3.5 0 010 7H7"/>
      </svg>
    </button>

<span>Light</span>
      <label class="switch">
        <input type="checkbox" id="themeToggle">
        <span class="slider"></span>
      </label>
      <span>Dark</span>
    </div>
  </div>
  <div class="container">
    <div class="left">
      <div id="formula"><h3>Molecular Formula: </h3></div>
      <h4><sup>1</sup>H NMR (<span id='hnmrFreq'>80 MHz</span>):</h4>
      <img id="hnmrImage" class="nmr-image" src="hnmr.png" alt="1H NMR Spectrum">
      <h4><sup>13</sup>C NMR (200 MHz):</h4>
      <img id="cnmrImage" class="nmr-image" src="cnmr.png" alt="13C NMR Spectrum">
      <h4>IR Peaks:</h4>
      <div id="ir"></div>
      <h4>UV/Vis Peaks:</h4>
      <div id="uv">254 nm</div>
    </div>
    <div class="right" id="grid"></div>
  </div>

  <div id="fullscreenOverlay" class="fullscreen-overlay" style="display:none;">
<div class="modal">
    <span class="close-btn" id="closeFullscreen">&times;</span>
  <div class="modal-overlay">
    <img id="fullscreenImage" src="" alt="Fullscreen NMR", style:"bg:#ffffff">
  </div>
  </div>
  </div>


<div id="aboutModal" class="modal" style="display:none">
  <div class="modal-content">
    <span class="close" id="closeAbout">&times;</span>
    <h2>About NMRdle</h2>
    <p>NMRdle is a daily molecular structure guessing game. You are given molecular formula, NMR, IR, and UV/Vis data. Pick the correct molecule from the 12 options. You have 5 lives. Good luck!</p>
    <p>NMR spectra provided by ChemDraw</p>
    <p>SMILES rendering provided by SmilesDrawer 2.0</p>
    <p>¬© Toby Collins, 2025</p>
  </div>
</div>

<div id="winModal" class="modal" style="display:none">
  <div class="modal-content">
    <span class="close" id="closeWin">&times;</span>
    <h2>You Win! üéâ</h2>
    <p id="winMessage"></p>
    <button id="shareBtn">Share</button>
  </div>
</div>

<div id="winArchiveModal" class="modal" style="display:none">
  <div class="modal-content">
    <span class="close" id="closeArchiveWin">&times;</span>
    <h2>You Win! üéâ</h2>
    <p id="winArchiveMessage"></p>
  </div>
</div>

<div id="loseModal" class="modal" style="display:none">
  <div class="modal-content">
    <span class="close" id="closeLose">&times;</span>
    <h2>Game Over! üíî</h2>
    <p id="loseMessage">Better luck next time.</p>
  </div>
</div>

<div id="statsModal" class="modal" style="display:none">
  <div class="modal-content">
    <span class="close" id="closeStats">&times;</span>
    <h2>My Stats</h2>
    <p>Games Played: <span id="gamesPlayed">0</span></p>
    <p>Current Streak: <span id="currentStreak">0</span></p>
    <p>Longest Streak: <span id="longestStreak">0</span></p>
<div id="livesDistribution">
  <h3>Score Distribution</h3>
  <div class="bar-container" id="livesBar"></div>
</div>
  </div>
</div>

<div id="donateModal" class="modal" style="display:none;">
  <div class="modal-content">
    <span class="close" id="closeDonate">&times;</span>
    <h2>Support NMRdle</h2>
    <p>NMRdle is free to play.</p>
    <p>Building and running NMRdle takes up a lot of time and money. If you enjoy playing this game, please consider supporting its development.</p>
    <p>Your contributions support:</p>
    <ul><li>Web hosting and bandwith</li><li>Creating and testing the NMR puzzles</li><li>More future projects</li></ul>
    <button id="donateAction">Donate ‚ù§Ô∏è</button>
  </div>
</div>

<div id="calendarModal" class="modal" style="display:none;">
  <div class="modal-content">
    <span class="close" id="closeCalendar">&times;</span>
    <h2>NMRdle Archive</h2>
    <p>Choose any past date to replay the challenge:</p>
    <input type="date" id="puzzleDate">
    <br>
    <button class="modal-button" id="loadDateBtn">Load Puzzle</button>
  </div>
</div>



<!-- STARTUP MODAL HTML  -->
<div id="startModal" class="modal" style="display:flex;">
  <div class="modal-content start-modal-content" role="dialog" aria-modal="true" aria-labelledby="startTitle">
    <h2 id="startTitle"">Welcome to NMRdle</h2>
    <p style="color:var(--fg)">Choose a mode to begin</p>

    <div class="start-options" role="group" aria-label="Start options">
      <button class="start-option" id="startOpt1">
        <img src="favicon.png" alt="NMRdle">
        <div class="opt-label">Daily</div>
      </button>

      <button class="start-option" id="startOpt2">
        <img src="2dfavicon.jpg" alt="NMRdle Weekly">
        <div class="opt-label">Weekly</div>
      </button>
    </div>

    <p style="margin-top:14px; font-size:0.9rem; color:var(--fg)">
      You can change mode later from the menu.
    </p>
  </div>
</div>


  <script>
    const puzzles = {
	'default': {
	num: '0', formula: 'C<sub>8</sub>H<sub>9</sub>NO<sub>2</sub>',
        ir: ['3316', '3153', '2791', '1647', '1569'], uv: ['243 nm'],
	hnmrFreq: "80 MHz", hnmrImage: 'default/HNMR.png', cnmrImage: 'default/CNMR.png',
        answer: 0, smiles: [
          'OC1=CC=C(NC(C)=O)C=C1','COC(=O)C1=CC=CC=C1N','C1=CC(=CC=C1CN)C(=O)O','CC1=C(C=C(C=C1)[N](=O)[O])C','CCOC(=O)C1=CN=CC=C1','CNC1=CC=CC=C1C(=O)O','C1=CC(=CC=C1CC(=O)N)O','C1CCC2=C(C1)C(=O)NC2=O','CNC(=O)OC1=CC=CC=C1','C1OC2=C(O1)C=C(C=C2)CN','CC1=CC(=C(C=C1)C(=O)O)N','CNC(=O)C1=CC=CC=C1O'
        ]
      },
	'2025-08-16': {
	num: '2', formula: 'C<sub>7</sub>H<sub>4</sub>ClNO<sub>2</sub>',
        ir: ['3162', '3075', '1791', '1610', '1488'], uv: ['273 nm'],
	hnmrFreq: "80 MHz", hnmrImage: '2025/08/16/HNMR.png', cnmrImage: '2025/08/16/CNMR.png',
        answer: 0, smiles: [
          'C1=CC2=C(C=C1Cl)NC(=O)O2','C1=C(C=C(N=C1C=O)C=O)Cl','C1C2=CC(=NC=C2C(=O)O1)Cl','C1C2=C(C=CC(=N2)Cl)C(=O)O1','C1=CC(=C(C(=C1O)O)C#N)Cl','C1=CC(=CC2=NC(=O)OC21)Cl','C1=CC(=CN=C1)C(=O)C(=O)Cl','C1C2=C(C(=NC=C2)Cl)C(=O)O1','C1CCC2=C(C1)C(=O)NC2=O','C1=C(C=NC(=C1C=O)Cl)C=O','C1=CC(=NC(=C1)Cl)C(=O)C=O','C1=C2C(=CC(=C1Cl)O)OC=N2'
        ]
      },
	'2025-08-17': {
	num: '3', formula: 'C<sub>10</sub>H<sub>10</sub>SO',
        ir: ['3006', '2915', '1680', '1597'], uv: ['275 nm'],
	hnmrFreq: "80 MHz", hnmrImage: '2025/08/17/HNMR.png', cnmrImage: '2025/08/17/CNMR.png',
        answer: 0, smiles: [
          'CC1=CC2=C(C=C1)SCCC2=O','C1CC(=O)C2=CC=CC=C2SC1','C1CC(=CC(=O)C1)C2=CSC=C2','CC1CSC2=CC=CC=C2C1=O','CC(=O)/C=C/SC1=CC=CC=C1','CSC1=CC2=C(CCC2=O)C=C1','C[C](C1=CSC2=CC=CC=C21)O','C1CC2=C(C=CC(=C2)C=O)SC1','CC1=CC2=C(C(=C1)OC)SC=C2','CC1=CC2=C(C=C1)SC(=C2)CO','CCC1C2=CC=CC=C2C(=O)S1','CC1=C(SC2=C1C=CC(=C2)O)C'
        ]
      },
	'2025-08-18': {
	num: '4', formula: 'C<sub>8</sub>H<sub>8</sub>O<sub>3</sub>',
        ir: ['3339', '2911', '2839', '1679', '1589'], uv: ['348 nm'],
	hnmrFreq: "80 MHz", hnmrImage: '2025/08/18/HNMR.png', cnmrImage: '2025/08/18/CNMR.png',
        answer: 0, smiles: [
          'COC1=C(C=CC(=C1)C=O)O','COC(=O)C1=CC=C(C=C1)O','COC(=O)C1=CC=CC=C1O','C1=CC=C(C(=C1)CC(=O)O)O','C1=CC=C(C=C1)C(C(=O)O)O','CC1=C(C(=CC=C1)C(=O)O)O','CC(=O)C1=C(C=C(C=C1)O)O','COC1=CC=C(C=C1)C(=O)O','C1OC2=C(O1)C=C(C=C2)CO','COC1=CC=CC(=C1O)C=O','C1=CC(=C(C=C1CC=O)O)O','C1CCC2=C(C1)C(=O)OC2=O'
        ]
      },
	'2025-08-19': {
	num: '5', formula: 'C<sub>5</sub>H<sub>8</sub>O',
        ir: ['2941', '1830', '1670'], uv: ['None'],
	hnmrFreq: "80 MHz", hnmrImage: '2025/08/19/HNMR.png', cnmrImage: '2025/08/19/CNMR.png',
        answer: 0, smiles: [
          'CC1OCC=C1','C1CCC(=O)C1','CC(=CC=O)C','CCC(=O)C=C','CC/C=C/C=O','C/C=C/C(=O)C','CC(=C)C(=O)C','C=CC(C=C)O','C1CC=COC1','CC(=O)C1CC1','CC1=COCC1','C1CC(C=C1)O']
      },
	'2025-08-20': {
	num: '6', formula: 'C<sub>7</sub>H<sub>7</sub>ClO',
        ir: ['3653', '3573', '3042', '2938', '1603', '1471'], uv: ['280 nm'],
	hnmrFreq: "80 MHz", hnmrImage: '2025/08/20/HNMR.png', cnmrImage: '2025/08/20/CNMR.png',
        answer: 0, smiles: [
          'CC1=C(C(=CC=C1)Cl)O','CC1=C(C=C(C=C1)Cl)O','COC1=CC=C(C=C1)Cl','C1=CC(=CC=C1CO)Cl','C1=CC(=CC(=C1)Cl)CO','CC1=CC(=CC(=C1)Cl)O','C1C=CC2C1C(=O)C2Cl','CC1(C=CC(=O)C=C1)Cl','CC1=CC(=O)C(=CC1)Cl','ClC(C1C=CCC=C1)=O','ClC(C1=CC=CCC1)=O','ClC(C#CC1CCC1)=O']
      },
	'2025-08-21': {
	num: '7', formula: 'C<sub>6</sub>H<sub>6</sub>S',
        ir: ['3083', '2938', '1746'], uv: ['None'],
	hnmrFreq: "200 MHz", hnmrImage: '2025/08/21/HNMR.png', cnmrImage: '2025/08/21/CNMR.png',
        answer: 0, smiles: [
          'S=C1C2CC=C1C2','C1=CC=C(C=C1)S','C=CC1=CC=CS1','C1=CC=CSC=C1','C1=CC2C(S2)C=C1','C1C=CC=CC1=S','C=C1C=CC=C1S','C12C3C1C4C(C23)S4','CC1=CC(=S)C=C1', 'C=CC(=S)C=C=C','C1=CC2C=CC1S2','CC1=CC2=C(C2)S1']
      },
	'2025-08-22': {
	num: '8', formula: 'C<sub>7</sub>H<sub>9</sub>NO',
        ir: ['3600', '3438', '3049', '2931', '1718', '1593'], uv: ['216 nm', '295 nm'],
	hnmrFreq: "100 MHz", hnmrImage: '2025/08/22/HNMR.png', cnmrImage: '2025/08/22/CNMR.png',
        answer: 0, smiles: [
          'O=C1NC(C)C=CC=C1','COC1=CC=CC=C1N','OC1=C(C)C(N)=CC=C1','C1=CC=C(C(=C1)CO)N','C1C=CCC2C1C(=O)N2','C1C[C]2C=CC(=O)N2C1','C1CCC(=O)C(C1)C#N','CC1=NC=CC(=C1)OC','COC1=NC=CC=CC1', 'C1CC(CC(=O)C1)C#N','C1CC2C=CC1C(=O)N2','CC1(CCC(=O)C1)C#N']
      },
	'2025-08-23': {
	num: '9', formula: 'C<sub>6</sub>H<sub>14</sub>O<sub>2</sub>',
        ir: ['3587', '2980', '2934', '1381'], uv: ['None'],
	hnmrFreq: "100 MHz", hnmrImage: '2025/08/23/HNMR.png', cnmrImage: '2025/08/23/CNMR.png',
        answer: 0, smiles: [
          'OC(C(C)(C)O)CC','CC(O)C(C)(C)OC','CC(CC(C)(C)O)O','CCCCOCCO','CCCOCC(C)O','CC(C)OCC(C)O','CCC(CO)C(C)O','C(C)C(OC)OCC','CC(C)(CCCO)O', 'CC(C)(CO)COC','CC(C)OC(C)(O)C','CC(CC)(C)C(O)O']
      },
	'2025-08-24': {
	num: '10', formula: 'C<sub>5</sub>H<sub>9</sub>NO<sub>2</sub>',
        ir: ['3409', '3058', '2984', '2380', '1625', '1585'], uv: ['None'],
	hnmrFreq: "200 MHz", hnmrImage: '2025/08/24/HNMR.png', cnmrImage: '2025/08/24/CNMR.png',
        answer: 0, smiles: [
          'O=C(O)C1NCCC1','C1COCCN1C=O','C1CC(C1)(C(=O)O)N','CC(=O)NCCC=O','COC1CCC(=O)N1','CC(=O)N(C)C(=O)C','CC1(COC(=O)N1)C','C1CC(=O)N(C1)CO','CC(=O)CC(=O)NC','C1CNCC1C(=O)O','O=C(N)C1OCCC1','CN(C)/C=C/C(O)=O']
      },
	'2025-08-25': {
	num: '11', formula: 'C<sub>7</sub>H<sub>11</sub>BrO',
        ir: ['3043', '2979', '2856', '1997', '1644'], uv: ['None'],
	hnmrFreq: "100 MHz", hnmrImage: '2025/08/25/HNMR.png', cnmrImage: '2025/08/25/CNMR.png',
        answer: 0,
        smiles: [
          'CC1=COCC(C)C1Br','CC1(CCCCC1=O)Br','C1CCC(C(=O)CC1)Br','C1CC(C(=O)C1)CCBr','CC12CC(C1)(CO2)CBr','C1COC12CC(C2)CBr','C1CC2C(CC1O2)CBr','C1CCC(=C(C1)CO)Br','C1CCC(CC1)C(=O)Br','C1CC2CC1C(C2Br)O','COC1CCCC(=C1)Br','CC(=C/C(=C(\C)/O)/Br)C']
      },
	'2025-08-26': {
	num: '12', formula: 'C<sub>10</sub>H<sub>8</sub>O<sub>2</sub>',
        ir: ['3320', '2972', '2865', '1601', '1558'], uv: ['234 nm'],
	hnmrFreq: "100 MHz", hnmrImage: '2025/08/26/HNMR.png', cnmrImage: '2025/08/26/CNMR.png',
        answer: 0, smiles: [
          'OC1=C2C(C(O)=CC=C2)=CC=C1','OC1=CC=C(C=C(O)C=C2)C2=C1','CC1=CC2=C(C=C1)OC(=O)C=C2','C1=CC=C2C(=C1)C(=CC=C2O)O','C1=CC=C2C=C(C(=CC2=C1)O)O','C1=CC=C2C(=C1)C=C(C=C2O)O','C1=CC(=CC2=C1C=CC(=C2)O)O','CC1=CC(=O)OC2=CC=CC=C12','CC1=CC2=CC=CC=C2OC1=O','CC(=O)C1=CC2=CC=CC=C2O1','CC1C(=O)C2=CC=CC=C2C1=O','C1C(=CC(=O)O1)C2=CC=CC=C2']
      },
	'2025-08-27': {
	num: '13', formula: 'C<sub>12</sub>H<sub>14</sub>O<sub>3</sub>',
        ir: ['2970', '1781', '1747', '1583'], uv: ['228 nm', '273 nm'],
	hnmrFreq: "100 MHz", hnmrImage: '2025/08/27/HNMR.png', cnmrImage: '2025/08/27/CNMR.png',
        answer: 0, smiles: [
          'CC(C1C(OCC)=O)(O1)C2=CC=CC=C2','COC1=C(C=C2C(=C1)CCCC2=O)OC','CC(=O)OC1=C(C=C(C=C1)CC=C)OC','CCOC(=O)C(=O)CCC1=CC=CC=C1','CC(=O)C1=CC=C(C=C1)CCOC(=O)C','CC(C)(C1CC2=C(O1)C=CC(=C2)C=O)O','CC1(OC(C(=O)O1)CC2=CC=CC=C2)C','CC(C=O)(C1OCCO1)C2=CC=CC=C2','CC1=C(C(=CC=C1)CC(=O)C)C(=O)OC','C1CCOC(C1)C2=CC=CC(=C2O)C=O','CC1CC2=C(C(=O)C=C(C2=CO1)OC)C','CC(C)C1=CC(=C(C(=O)C=C1)O)C(=O)C']
      },
	'2025-08-28': {
	num: '14', formula: 'C<sub>5</sub>H<sub>11</sub>NO',
        ir: ['2965', '2865', '2800', '2691', '1458'], uv: ['None'],
	hnmrFreq: "100 MHz", hnmrImage: '2025/08/28/HNMR.png', cnmrImage: '2025/08/28/CNMR.png',
        answer: 0, smiles: [
          'CN1CCOCC1','CC1COCCN1','CC1(COCN1)C','CCN(CC)C=O','CC(C)(C)NC=O','CCCCC(=O)N','CC(C)(C)C(=O)N','CN1CCCOC1','C1CC(OC1)CN','C1CNCCC1O','C1CC(CNC1)O','C1COCCC1N']
      },
	'2025-08-29': {
	num: '15', formula: 'C<sub>6</sub>H<sub>6</sub>ClN',
        ir: ['3033', '2942', '2198', '2255'], uv: ['None'],
	hnmrFreq: "100 MHz", hnmrImage: '2025/08/29/HNMR.png', cnmrImage: '2025/08/29/CNMR.png',
        answer: 0, smiles: [
          'ClC1C=CC(C#N)C1','C1=CC=C(C(=C1)N)Cl','CC1=CN=C(C=C1)Cl','C1=CC(=CC(=C1)Cl)N','C1=CC(=CN=C1)CCl','C1CC(C(=C1)C#N)Cl','C(CC#CC#N)CCl','C=C1CC(C1)(C#N)Cl ','C1C=CC=C(C1=N)Cl','C(C=CC=CC#N)Cl','C/C(=C(\C=C)/Cl)/C#N','C1=CNC=CC(=C1)Cl']
      },
	'2025-08-30': {
	num: '16', formula: 'C<sub>7</sub>H<sub>4</sub>F<sub>4</sub>',
        ir: ['3049', '2911', '1624', '1597', '1500', '1469'], uv: ['251 nm'],
	hnmrFreq: "200 MHz", hnmrImage: '2025/08/30/HNMR.png', cnmrImage: '2025/08/30/CNMR.png',
        answer: 0, smiles: [
          'FC1=C(C(F)(F)F)C=CC=C1','FC(F)(F)C1=CC(F)=CC=C1','FC(F)(F)C1=CC=C(F)C=C1','CC1=C(F)C(F)=C(F)C(F)=C1','FC1=C(C)C(F)=C(F)C(F)=C1','FC1=C(F)C(C)=C(F)C(F)=C1','FC1=C(F)C(CF)=CC(F)=C1','FC1=C(F)C(C(F)F)=CC=C1','FC1=C(F)C(CF)=CC=C1F','FC1=C(F)C(CF)=C(F)C=C1','C=CC#C/C(F)=C/C(F)(F)F','F/C=C/C#C/C=C/C(F)(F)F']
      },
	'2025-08-31': {
	num: '17', formula: 'C<sub>7</sub>H<sub>8</sub>O',
        ir: ['3049', '2945', '2890', '1711'], uv: ['None'],
	hnmrFreq: "80 MHz", hnmrImage: '2025/08/31/HNMR.png', cnmrImage: '2025/08/31/CNMR.png',
        answer: 0, smiles: [
          'O=C1C=CCC/C1=C','OC1=C(C)C=CC=C1','OC1=CC(C)=CC=C1','CC1=CCC=CC1=O','O=C1C(C)=CC(C)=C1', 'O=C1CC2CC=C1C2', 'O=C1C=CCC(C)=C1','O=C1C=CCC(C1)=C','O=C(CC1)C=CC1=C','COC1=CC=CC=C1','O=C1C=C(C)C(C1)=C','O=C1C=CC(C)C1=C']
      },


	'2025-09-01': {
	num: '1', formula: 'C<sub>6/sub>H<sub>14</sub>N<sub>2</sub>',
        ir: ['3052', '2979', '2941', '2809', '1653', '1207'], uv: ['None'],
	hnmrFreq: "80 MHz", hnmrImage: '2025/09/01/HNMR.png', cnmrImage: '2025/09/01/CNMR.png',
        answer: 0, smiles: [
          'CN(/C=C(C)/CN)C','CN1CCCNCC1','C1CCC(C1)(CN)N','C1CCN(C1)CCN','CN(C)/C=C(C)/NC', 'C1CC(C(C1)N)CN', 'CNCN/C=C(C)/C','N=C(C(C)(C)C)NC','CN1CC(C1)CCN','CC(=C)CNCCN','CN(/C(N)=C(C)/C)C','CN/C=C(CC)/CN']
      },
	'2025-09-02': {
	num: '2', formula: 'C<sub>7/sub>H<sub>7</sub>NO',
        ir: ['2967', '2241', '2190', '1683'], uv: ['480 nm'],
	hnmrFreq: "80 MHz", hnmrImage: '2025/09/02/HNMR.png', cnmrImage: '2025/09/02/CNMR.png',
        answer: 0, smiles: [
          'O=C(C#N)C#CC(C)C','C1=CC=C(C=C1)C(=O)N','C1=CC=C(C=C1)NC=O','CC(=O)C1=CC=NC=C1','CC1=CC=C(O1)CC#N', 'C1CC(=CC(=O)C1)C#N', 'C=C1C(CCC1=O)C#N','C#CC(=O)N1CC=CC1','CC#CC(=O)NC#CC','C/C(=C/C#N)/C=C/C=O','O=C(C(CC)C#C)C#N','O=C(C(C)C#CC)C#N']
      },
	'2025-09-03': {
	num: '3', formula: 'C<sub>22</sub>H<sub>23</sub>P',
        ir: ['3057', '2927', '2852', '1435'], uv: ['264 nm'],
	hnmrFreq: "80 MHz", hnmrImage: '2025/09/03/HNMR.png', cnmrImage: '2025/09/03/CNMR.png',
        answer: 0, smiles: [
          'CC(CC)=P(C1=CC=CC=C1)(C2=CC=CC=C2)C3=CC=CC=C3','CCCC=P(C1=CC=CC=C1)(C2=CC=CC=C2)C3=CC=CC=C3','CCC(C1=CC=CC=C1)C(C2=CC=CC=C2)(C3=CC=CC=C3)P','CC(C)(C)C1=CC(=CC=C1)P(C2=CC=CC=C2)C3=CC=CC=C3','CCCCC1=CC=C(C=C1)P(C2=CC=CC=C2)C3=CC=CC=C3', 'CC(C)(C)P(C1=CC2=CC=CC=C2C1)C3=CC4=CC=CC=C4C3', 'CC(C)C=P(C1=CC=CC=C1)(C2=CC=CC=C2)C3=CC=CC=C3','CC1=CC=C(C=C1)P(=C)(C2=CC=C(C=C2)C)C3=CC=C(C=C3)C','C1=CC=C(C=C1)CCP(CCC2=CC=CC=C2)C3=CC=CC=C3','CC1=C(C(=CC=C1)P(C2=CC=CC=C2C)C3=CC=CC=C3C)C','CC1=C(C(=CC=C1)C)P(C2=CC=CC=C2)C3=C(C=CC=C3C)C','CC(C)(C)P(C1C=CC2=CC=CC=C12)C3C=CC4=CC=CC=C34']
      },
	'2025-09-04': {
	num: '4', formula: 'C<sub>5</sub>H<sub>10</sub>O<sub>2</sub>',
        ir: ['2977', '2925', '2853', '2778'], uv: ['None'],
	hnmrFreq: "80 MHz", hnmrImage: '2025/09/04/HNMR.png', cnmrImage: '2025/09/04/CNMR.png',
        answer: 0, smiles: [
          'CC1CCOCO1','CCC1COCO1','CC1OC(CC)O1','CC1CCCOO1','CC1CCOOC1', 'C=CCOCCO', 'CC=C(OC)OC','CC1COC(O1)C','COCCOC=C','CC1(C(O1)OC)C','CC1COCCO1','C1COCC1C']	
      },
	'2025-09-05': {
	num: '5', formula: 'C<sub>7</sub>H<sub>4</sub>BrN',
        ir: ['2977', '2925', '2853', '2778'], uv: ['274 nm'],
	hnmrFreq: "200 MHz", hnmrImage: '2025/09/04/HNMR.png', cnmrImage: '2025/09/04/CNMR.png',
        answer: 0, smiles: [
          'BrC1=C(C#N)C=CC=C1','N#CC1=CC(Br)=CC=C1','N#CC1=CC=C(Br)C=C1','BrC1=CC=CC(C#C)=N1','C#CC1=NC=C(Br)C=C1', 'C#CC1=NC=CC(Br)=C1', 'N#CC1=C2C=CC1(Br)C2','N#CC1C2=CC=C1C2Br','N#CC1C2=CC(Br)=C1C2','C#CC1=C(C#N)CC1Br','C#CC1=CC(C#N)C1Br','C#CC1=C(Br)C(C#N)C1']	
      },
	'2025-09-06': {
	num: '6', formula: 'C<sub>10</sub>H<sub>16</sub>',
        ir: ['3021', '2966', '2927', '1644', '1448'], uv: ['None'],
	hnmrFreq: "200 MHz", hnmrImage: '2025/09/06/HNMR.png', cnmrImage: '2025/09/06/CNMR.png',
        answer: 0, smiles: [
          'C/C(C1C=CC(C)CC1)=C','CC(C)C(CC1)C=CC1=C','CC(C(CC1)CCC1=C)=C','CC(C)C1C=C(C)CC=C1', 'CCC1C=C(C)CC=C1C', 'CCC1C(C)=C(C)CC=C1','CC1C(C)=C(C)CC=C1C','CC1(C2CCC(C2)C1=C)C','CC1=CCC2CC1C2(C)C','CC1(C2CCC(=C)C1C2)C','CC(=CCCC(=C)C=C)C', 'C/C=C(\C)/C=C/C=C(C)C']	
      },
	'2025-09-07': {
	num: '7', formula: 'C<sub>5</sub>H<sub>10</sub>Hg',
        ir: ['3062', '2978', '1645'], uv: ['None'],
	hnmrFreq: "200 MHz", hnmrImage: '2025/09/07/HNMR.png', cnmrImage: '2025/09/07/CNMR.png',
        answer: 0, smiles: [
          'CC[Hg]CC=C','CC[Hg]/C=C/C','C[Hg]C1CCCC1','C=C[Hg]CCC','C=C(C)[Hg]CC', 'C1C[Hg]CCC1', 'CC1[Hg]CCC1','CC1C[Hg]CC1','CC(C)[Hg]C=C','C[Hg]/C=C/CC','C[Hg]C/C=C/C','C[Hg]/C=C(C)/C']	
      },
	'2025-09-08': {
	num: '8', formula: 'C<sub>7</sub>H<sub>14</sub>S<sub>2</sub>',
        ir: [''], uv: ['None'],
	hnmrFreq: "200 MHz", hnmrImage: '2025/09/08/HNMR.png', cnmrImage: '2025/09/08/CNMR.png',
        answer: 0, smiles: [
          'C1(CCC)SCCCS1','CCC1(C)SCCCS1','CC(C)C1SCCCS1','CCC1SCC(C)CS1','CC1SCC(CC)CS1', 'CC1(C)CSCC(S)C1', 'CC1CSCC(SC)C1','CCSC1CSCCC1','CC1(CCC)SCCS1','CCCCC1SCCS1','CCC1SC(C)C(C)S1','CC1SC(C)C(CS)C1']	
      },
	'2025-09-09': {
	num: '9', formula: 'C<sub>14</sub>H<sub>8</sub>I<sub>2</sub>',
        ir: ['3066', '1503', '1458'], uv: ['250 nm', '292 nm'],
	hnmrFreq: "100 MHz", hnmrImage: '2025/09/09/HNMR.png', cnmrImage: '2025/09/09/CNMR.png',
        answer: 0, smiles: [
          'IC1=CC2=C(C=C1)C3=CC=C(I)C=C3C=C2','IC1=C2C(C(C=CC=C3I)=C3C=C2)=CC=C1', 'IC1=C(I)C2=CC=CC=C2C3=C1C=CC=C3','IC1=CC=C2C(C(C=C(I)C=C3)=C3C=C2)=C1','IC1=C(C(C(I)=CC=C2)=C2C=C3)C3=CC=C1', 'IC1=C2C(C=CC=C2)=C(I)C3=CC=CC=C31', 'IC1=C2C(C=C(C(I)=CC=C3)C3=C2)=CC=C1', 'IC1=CC=C(C=C(C=C(I)C=C2)C2=C3)C3=C1','IC1=CC=C(C=C(C=CC(I)=C2)C2=C3)C3=C1', 'I/C1=C/C=C2C=CC=CC/2=C/C=C(C#C1)/I', 'IC1=CC2=C\C=C\C#C/C=C/C=C/2C=C1I','IC1=C\C=C\C2=CC#CC=C2/C=C/C=C/1I']	
      },
	'2025-09-10': {
	num: '10', formula: 'C<sub>8</sub>H<sub>15</sub>N',
        ir: ['2937', '2888', '1463'], uv: ['None'],
	hnmrFreq: "200 MHz", hnmrImage: '2025/09/10/HNMR.png', cnmrImage: '2025/09/10/CNMR.png',
        answer: 0, smiles: [
          'CC1C2CCN(CC2)C1','CC1CC2CCN1CC2', 'CC12CCN(CC2)CC1','C1(CCC2)CNCC2C1', 'C1(CCC2)CCCC2N1', 'N1(C2CC2)CCCCC1','CC1C(C)CN(CC)C1','CN1CC2(CC(C)C2)C1','CCN1CC2(CCC2)C1','CC(CC1C)C21CNC2', 'CC=CN(CC)C=CC', 'C=CCN(CC)CC=C']	
      },
	'2025-09-11': {
	num: '11', formula: 'C<sub>9</sub>H<sub>16</sub>O',
        ir: ['3660', '2958', '2892', '1763', '1461'], uv: ['None'],
	hnmrFreq: "200 MHz", hnmrImage: '2025/09/11/HNMR.png', cnmrImage: '2025/09/11/CNMR.png',
        answer: 0, smiles: [
          'CC1(C2C)CCC2CC1O','CC1CC(=O)CC(C1)(C)C','C1CCC2C(C1)CCCO2','CC(CCC=C(C)C)C=O', 'CC/C=C\CC/C=C/CO','CC1=CC(CC(C1)(C)C)O','CC(C)CCC(C)(C#C)O','CC1C=C(CCC1CO)C','CC1C2CCC(C2)C1(C)O','COC12CCC(CC1)CC2','C1CC2CCC1CC2CO','CC(C1CC2CCC1C2)O']	
      },
	'2025-09-12': {
	num: '12', formula: 'C<sub>12</sub>H<sub>14</sub>O<sub>3</sub>',
        ir: ['3073', '3042', '2970', '1749'], uv: ['440 nm', '690 nm'],
	hnmrFreq: "200 MHz", hnmrImage: '2025/09/12/HNMR.png', cnmrImage: '2025/09/12/CNMR.png',
        answer: 0, smiles: [
          'CC(C1C(OCC)=O)(O1)C2=CC=CC=C2','CC(=O)OC1=C(C=C(C=C1)CC=C)OC', 'C/C=C/C1=CC(=C(C=C1)OC(=O)C)OC','CC(=O)CCC1=CC=C(C=C1)OC(=O)C', 'CCOC(=O)/C=C/C1=CC=C(C=C1)OC', 'CC(=CCOC(=O)C1=CC=CC=C1O)C','CC(=C)C(=O)OCCOC1=CC=CC=C1','CC1(CC(=O)C2=C(O1)C=CC(=C2)OC)C','COC1=C(C=C2C(=C1)CCCC2=O)OC','CCOC(=O)CC(=O)CC1=CC=CC=C1', 'CC1=CC=C(C=C1)C2C(O2)C(=O)OC', 'O=C(OC(C)C)C1C(O1)C2=CC=CC=C2']
      },
	'2025-09-13': {
	num: '13', formula: 'C<sub>11</sub>H<sub>16</sub>',
        ir: ['3035', '2934', '2873'], uv: ['None'],
	hnmrFreq: "200 MHz", hnmrImage: '2025/09/13/HNMR.png', cnmrImage: '2025/09/13/CNMR.png',
        answer: 0, smiles: [
          'C1=CCCC2(CCC=CC2)C1','CC1=CC=C(C=C1)C(C)(C)C', 'CC1=CC(=C(C(=C1C)C)C)C','CCC1=CC(=CC(=C1)C)CC', 'C#CCCCCCCCC#C', 'C=C1C2CC3CC(C2)CC1C3','CCC1=C(C=C(C=C1C)C)C', 'C1C2CC3CC1C4CC3C4C2', 'C=C1CC2CC(C1)CC(=C)C2','C=CC1C2CCC(C2)C1C=C', 'CC(C)(C)C1C2C=CC1C=C2', 'C1=CC2(CCCCC2)C=CC1']
      },
	'2025-09-14': {
	num: '14', formula: 'C<sub>4</sub>H<sub>7</sub>ClO<sub>2</sub>',
        ir: ['3499', '3394', '2895'], uv: ['None'],
	hnmrFreq: "80 MHz", hnmrImage: '2025/09/14/HNMR.png', cnmrImage: '2025/09/14/CNMR.png',
        answer: 0, smiles: [
          'ClC1C(O)C(O)C1','CCOC(=O)CCl','CCCOC(=O)Cl','ClCC1OCCO1','CC(CC(=O)O)Cl', 'C1C(COCO1)Cl', 'C1COC(CO1)Cl', 'CO/C=C(/OC)\Cl', 'CC(O)/C(Cl)=C/O','C1C(C(CO1)Cl)O','C1C(CO1)(CO)Cl', 'C1COC(C1Cl)O']
      },
	'2025-09-15': {
	num: '15', formula: 'C<sub>7</sub>H<sub>8</sub>O',
        ir: ['3049', '2945', '2890', '1711'], uv: ['None'],
	hnmrFreq: "80 MHz", hnmrImage: '2025/09/15/HNMR.png', cnmrImage: '2025/09/15/CNMR.png',
        answer: 0, smiles: [
          'O=C1C=CCC/C1=C','OC1=C(C)C=CC=C1','OC1=CC(C)=CC=C1','CC1=CCC=CC1=O','O=C1C(C)=CC(C)=C1', 'O=C1CC2CC=C1C2', 'O=C1C=CCC(C)=C1','O=C1C=CCC(C1)=C','O=C(CC1)C=CC1=C','COC1=CC=CC=C1','O=C1C=C(C)C(C1)=C','O=C1C=CC(C)C1=C']
      },
	'2025-09-16': {
	num: '16', formula: 'C<sub>7</sub>H<sub>4</sub>ClNO<sub>2</sub>',
        ir: ['3162', '3075', '1791', '1610', '1488'], uv: ['273 nm'],
	hnmrFreq: "80 MHz", hnmrImage: '2025/09/16/HNMR.png', cnmrImage: '2025/09/16/CNMR.png',
        answer: 0, smiles: [
          'C1=CC2=C(C=C1Cl)NC(=O)O2','C1=C(C=C(N=C1C=O)C=O)Cl','C1C2=CC(=NC=C2C(=O)O1)Cl','C1C2=C(C=CC(=N2)Cl)C(=O)O1','C1=CC(=C(C(=C1O)O)C#N)Cl','C1=CC(=CC2=NC(=O)OC21)Cl','C1=CC(=CN=C1)C(=O)C(=O)Cl','C1C2=C(C(=NC=C2)Cl)C(=O)O1','C1CCC2=C(C1)C(=O)NC2=O','C1=C(C=NC(=C1C=O)Cl)C=O','C1=CC(=NC(=C1)Cl)C(=O)C=O','C1=C2C(=CC(=C1Cl)O)OC=N2'
        ]
      },
	'2025-09-17': {
	num: '17', formula: 'C<sub>10</sub>H<sub>10</sub>SO',
        ir: ['3006', '2915', '1680', '1597'], uv: ['275 nm'],
	hnmrFreq: "80 MHz", hnmrImage: '2025/09/17/HNMR.png', cnmrImage: '2025/09/17/CNMR.png',
        answer: 0, smiles: [
          'CC1=CC2=C(C=C1)SCCC2=O','C1CC(=O)C2=CC=CC=C2SC1','C1CC(=CC(=O)C1)C2=CSC=C2','CC1CSC2=CC=CC=C2C1=O','CC(=O)/C=C/SC1=CC=CC=C1','CSC1=CC2=C(CCC2=O)C=C1','C[C](C1=CSC2=CC=CC=C21)O','C1CC2=C(C=CC(=C2)C=O)SC1','CC1=CC2=C(C(=C1)OC)SC=C2','CC1=CC2=C(C=C1)SC(=C2)CO','CCC1C2=CC=CC=C2C(=O)S1','CC1=C(SC2=C1C=CC(=C2)O)C'
        ]
      },
	'2025-09-18': {
	num: '18', formula: 'C<sub>8</sub>H<sub>8</sub>O<sub>3</sub>',
        ir: ['3339', '2911', '2839', '1679', '1589'], uv: ['348 nm'],
	hnmrFreq: "80 MHz", hnmrImage: '2025/09/18/HNMR.png', cnmrImage: '2025/09/18/CNMR.png',
        answer: 0, smiles: [
          'COC1=C(C=CC(=C1)C=O)O','COC(=O)C1=CC=C(C=C1)O','COC(=O)C1=CC=CC=C1O','C1=CC=C(C(=C1)CC(=O)O)O','C1=CC=C(C=C1)C(C(=O)O)O','CC1=C(C(=CC=C1)C(=O)O)O','CC(=O)C1=C(C=C(C=C1)O)O','COC1=CC=C(C=C1)C(=O)O','C1OC2=C(O1)C=C(C=C2)CO','COC1=CC=CC(=C1O)C=O','C1=CC(=C(C=C1CC=O)O)O','C1CCC2=C(C1)C(=O)OC2=O'
        ]
      },
	'2025-09-19': {
	num: '19', formula: 'C<sub>5</sub>H<sub>8</sub>O',
        ir: ['2941', '1830', '1670'], uv: ['None'],
	hnmrFreq: "80 MHz", hnmrImage: '2025/09/19/HNMR.png', cnmrImage: '2025/09/19/CNMR.png',
        answer: 0, smiles: [
          'CC1OCC=C1','C1CCC(=O)C1','CC(=CC=O)C','CCC(=O)C=C','CC/C=C/C=O','C/C=C/C(=O)C','CC(=C)C(=O)C','C=CC(C=C)O','C1CC=COC1','CC(=O)C1CC1','CC1=COCC1','C1CC(C=C1)O']
      },
	'2025-09-20': {
	num: '20', formula: 'C<sub>7</sub>H<sub>7</sub>ClO',
        ir: ['3653', '3573', '3042', '2938', '1603', '1471'], uv: ['280 nm'],
	hnmrFreq: "80 MHz", hnmrImage: '2025/09/20/HNMR.png', cnmrImage: '2025/09/20/CNMR.png',
        answer: 0, smiles: [
          'CC1=C(C(=CC=C1)Cl)O','CC1=C(C=C(C=C1)Cl)O','COC1=CC=C(C=C1)Cl','C1=CC(=CC=C1CO)Cl','C1=CC(=CC(=C1)Cl)CO','CC1=CC(=CC(=C1)Cl)O','C1C=CC2C1C(=O)C2Cl','CC1(C=CC(=O)C=C1)Cl','CC1=CC(=O)C(=CC1)Cl','ClC(C1C=CCC=C1)=O','ClC(C1=CC=CCC1)=O','ClC(C#CC1CCC1)=O']
      },
	'2025-09-21': {
	num: '21', formula: 'C<sub>6</sub>H<sub>6</sub>S',
        ir: ['3083', '2938', '1746'], uv: ['None'],
	hnmrFreq: "200 MHz", hnmrImage: '2025/09/21/HNMR.png', cnmrImage: '2025/09/21/CNMR.png',
        answer: 0, smiles: [
          'S=C1C2CC=C1C2','C1=CC=C(C=C1)S','C=CC1=CC=CS1','C1=CC=CSC=C1','C1=CC2C(S2)C=C1','C1C=CC=CC1=S','C=C1C=CC=C1S','C12C3C1C4C(C23)S4','CC1=CC(=S)C=C1', 'C=CC(=S)C=C=C','C1=CC2C=CC1S2','CC1=CC2=C(C2)S1']
      },
	'2025-09-22': {
	num: '22', formula: 'C<sub>7</sub>H<sub>9</sub>NO',
        ir: ['3600', '3438', '3049', '2931', '1718', '1593'], uv: ['216 nm', '295 nm'],
	hnmrFreq: "100 MHz", hnmrImage: '2025/09/22/HNMR.png', cnmrImage: '2025/09/22/CNMR.png',
        answer: 0, smiles: [
          'O=C1NC(C)C=CC=C1','COC1=CC=CC=C1N','OC1=C(C)C(N)=CC=C1','C1=CC=C(C(=C1)CO)N','C1C=CCC2C1C(=O)N2','C1C[C]2C=CC(=O)N2C1','C1CCC(=O)C(C1)C#N','CC1=NC=CC(=C1)OC','COC1=NC=CC=CC1', 'C1CC(CC(=O)C1)C#N','C1CC2C=CC1C(=O)N2','CC1(CCC(=O)C1)C#N']
      },
	'2025-09-23': {
	num: '23', formula: 'C<sub>6</sub>H<sub>14</sub>O<sub>2</sub>',
        ir: ['3587', '2980', '2934', '1381'], uv: ['None'],
	hnmrFreq: "100 MHz", hnmrImage: '2025/09/23/HNMR.png', cnmrImage: '2025/09/23/CNMR.png',
        answer: 0, smiles: [
          'OC(C(C)(C)O)CC','CC(O)C(C)(C)OC','CC(CC(C)(C)O)O','CCCCOCCO','CCCOCC(C)O','CC(C)OCC(C)O','CCC(CO)C(C)O','C(C)C(OC)OCC','CC(C)(CCCO)O', 'CC(C)(CO)COC','CC(C)OC(C)(O)C','CC(CC)(C)C(O)O']
      },
	'2025-09-24': {
	num: '24', formula: 'C<sub>5</sub>H<sub>9</sub>NO<sub>2</sub>',
        ir: ['3409', '3058', '2984', '2380', '1625', '1585'], uv: ['None'],
	hnmrFreq: "200 MHz", hnmrImage: '2025/09/24/HNMR.png', cnmrImage: '2025/09/24/CNMR.png',
        answer: 0, smiles: [
          'O=C(O)C1NCCC1','C1COCCN1C=O','C1CC(C1)(C(=O)O)N','CC(=O)NCCC=O','COC1CCC(=O)N1','CC(=O)N(C)C(=O)C','CC1(COC(=O)N1)C','C1CC(=O)N(C1)CO','CC(=O)CC(=O)NC','C1CNCC1C(=O)O','O=C(N)C1OCCC1','CN(C)/C=C/C(O)=O']
      },
	'2025-09-25': {
	num: '25', formula: 'C<sub>7</sub>H<sub>11</sub>BrO',
        ir: ['3043', '2979', '2856', '1997', '1644'], uv: ['None'],
	hnmrFreq: "100 MHz", hnmrImage: '2025/09/25/HNMR.png', cnmrImage: '2025/09/25/CNMR.png',
        answer: 0, smiles: [
          'CC1=COCC(C)C1Br','CC1(CCCCC1=O)Br','C1CCC(C(=O)CC1)Br','C1CC(C(=O)C1)CCBr','CC12CC(C1)(CO2)CBr','C1COC12CC(C2)CBr','C1CC2C(CC1O2)CBr','C1CCC(=C(C1)CO)Br','C1CCC(CC1)C(=O)Br','C1CC2CC1C(C2Br)O','COC1CCCC(=C1)Br','CC(=C/C(=C(\C)/O)/Br)C']
      },
	'2025-09-26': {
	num: '26', formula: 'C<sub>10</sub>H<sub>8</sub>O<sub>2</sub>',
        ir: ['3320', '2972', '2865', '1601', '1558'], uv: ['234 nm'],
	hnmrFreq: "100 MHz", hnmrImage: '2025/09/26/HNMR.png', cnmrImage: '2025/09/26/CNMR.png',
        answer: 0, smiles: [
          'OC1=C2C(C(O)=CC=C2)=CC=C1','OC1=CC=C(C=C(O)C=C2)C2=C1','CC1=CC2=C(C=C1)OC(=O)C=C2','C1=CC=C2C(=C1)C(=CC=C2O)O','C1=CC=C2C=C(C(=CC2=C1)O)O','C1=CC=C2C(=C1)C=C(C=C2O)O','C1=CC(=CC2=C1C=CC(=C2)O)O','CC1=CC(=O)OC2=CC=CC=C12','CC1=CC2=CC=CC=C2OC1=O','CC(=O)C1=CC2=CC=CC=C2O1','CC1C(=O)C2=CC=CC=C2C1=O','C1C(=CC(=O)O1)C2=CC=CC=C2']
      },
	'2025-09-27': {
	num: '27', formula: 'C<sub>12</sub>H<sub>14</sub>O<sub>3</sub>',
        ir: ['2970', '1781', '1747', '1583'], uv: ['228 nm', '273 nm'],
	hnmrFreq: "100 MHz", hnmrImage: '2025/09/27/HNMR.png', cnmrImage: '2025/09/27/CNMR.png',
        answer: 0, smiles: [
          'CC(C1C(OCC)=O)(O1)C2=CC=CC=C2','COC1=C(C=C2C(=C1)CCCC2=O)OC','CC(=O)OC1=C(C=C(C=C1)CC=C)OC','CCOC(=O)C(=O)CCC1=CC=CC=C1','CC(=O)C1=CC=C(C=C1)CCOC(=O)C','CC(C)(C1CC2=C(O1)C=CC(=C2)C=O)O','CC1(OC(C(=O)O1)CC2=CC=CC=C2)C','CC(C=O)(C1OCCO1)C2=CC=CC=C2','CC1=C(C(=CC=C1)CC(=O)C)C(=O)OC','C1CCOC(C1)C2=CC=CC(=C2O)C=O','CC1CC2=C(C(=O)C=C(C2=CO1)OC)C','CC(C)C1=CC(=C(C(=O)C=C1)O)C(=O)C']
      },
	'2025-09-28': {
	num: '28', formula: 'C<sub>5</sub>H<sub>11</sub>NO',
        ir: ['2965', '2865', '2800', '2691', '1458'], uv: ['None'],
	hnmrFreq: "100 MHz", hnmrImage: '2025/09/28/HNMR.png', cnmrImage: '2025/09/28/CNMR.png',
        answer: 0, smiles: [
          'CN1CCOCC1','CC1COCCN1','CC1(COCN1)C','CCN(CC)C=O','CC(C)(C)NC=O','CCCCC(=O)N','CC(C)(C)C(=O)N','CN1CCCOC1','C1CC(OC1)CN','C1CNCCC1O','C1CC(CNC1)O','C1COCCC1N']
      },
	'2025-09-29': {
	num: '29', formula: 'C<sub>6</sub>H<sub>6</sub>ClN',
        ir: ['3033', '2942', '2198', '2255'], uv: ['None'],
	hnmrFreq: "100 MHz", hnmrImage: '2025/09/29/HNMR.png', cnmrImage: '2025/09/29/CNMR.png',
        answer: 0, smiles: [
          'ClC1C=CC(C#N)C1','C1=CC=C(C(=C1)N)Cl','CC1=CN=C(C=C1)Cl','C1=CC(=CC(=C1)Cl)N','C1=CC(=CN=C1)CCl','C1CC(C(=C1)C#N)Cl','C(CC#CC#N)CCl','C=C1CC(C1)(C#N)Cl ','C1C=CC=C(C1=N)Cl','C(C=CC=CC#N)Cl','C/C(=C(\C=C)/Cl)/C#N','C1=CNC=CC(=C1)Cl']
      },
	'2025-09-30': {
	num: '30', formula: 'C<sub>7</sub>H<sub>4</sub>F<sub>4</sub>',
        ir: ['3049', '2911', '1624', '1597', '1500', '1469'], uv: ['251 nm'],
	hnmrFreq: "200 MHz", hnmrImage: '2025/09/30/HNMR.png', cnmrImage: '2025/09/30/CNMR.png',
        answer: 0, smiles: [
          'FC1=C(C(F)(F)F)C=CC=C1','FC(F)(F)C1=CC(F)=CC=C1','FC(F)(F)C1=CC=C(F)C=C1','CC1=C(F)C(F)=C(F)C(F)=C1','FC1=C(C)C(F)=C(F)C(F)=C1','FC1=C(F)C(C)=C(F)C(F)=C1','FC1=C(F)C(CF)=CC(F)=C1','FC1=C(F)C(C(F)F)=CC=C1','FC1=C(F)C(CF)=CC=C1F','FC1=C(F)C(CF)=C(F)C=C1','C=CC#C/C(F)=C/C(F)(F)F','F/C=C/C#C/C=C/C(F)(F)F']
      },
	'2025-10-01': {
	num: '31', formula: 'C<sub>8</sub>H<sub>20</sub>Pb',
        ir: ['2967'], uv: ['None'],
	hnmrFreq: "80 MHz", hnmrImage: '2025/10/01/HNMR.png', cnmrImage: '2025/10/01/CNMR.png',
        answer: 0, smiles: [
          'C[Pb](CC(C)(C)C)(C)C','C[Pb](C(C)C(C)C)(C)C', 'CC[Pb](CC)(CC)CC','C[Pb](CCC)(C)CCC', 'C[Pb](CCCCC)(C)C', 'C[Pb](C(C)C)(C(C)C)C','C[Pb](CC)(C(C)(C)C)C', 'C[Pb](C)(C(C)(CC)C)C','C[Pb](CC)(CC)C(C)C','C[Pb](C)(CC(C)CC)C', 'C[Pb](CC)(CC(C)C)C', 'C[Pb](C)(C(CC)CC)C']
      },
	'2025-10-02': {
	num: '32', formula: 'C<sub>14</sub>H<sub>10</sub>O<sub>4</sub>',
        ir: ['3068', '1786', '1759', '1602', '1451'], uv: ['276 nm'],
	hnmrFreq: "200 MHz", hnmrImage: '2025/10/02/HNMR.png', cnmrImage: '2025/10/02/CNMR.png',
        answer: 0, smiles: [
          'O=C(OOC(C1=CC=CC=C1)=O)C2=CC=CC=C2','C1=CC2=C(C=C1O)OC(=C2)C3=CC(=CC(=C3)O)O','C1=CC(=CC=C1C2=CC=C(C=C2)C(=O)O)C(=O)O','C1=CC=C2C(=C1)C(=C3C(=CC=C(C3=C2O)O)O)O','C1CC(=O)C2=C(C3=CC=CC=C3C(=C2C1=O)O)O','C1=CC=C(C(=C1)C2=CC=CC=C2C(=O)O)C(=O)O','C#CCOC(=O)C1=CC=CC=C1C(=O)OCC#C', 'CC(C1=CC2=C(O1)C(=O)C3=CC=CC=C3C2=O)O', 'C1=CC(=CC=C1C(=O)C(=O)C2=CC=C(C=C2)O)O','C1=CC(=CC(=C1)C(=O)O)C2=CC(=CC=C2)C(=O)O','C1=CC=C(C=C1)OC(=O)C(=O)OC2=CC=CC=C2','C1=CC2=CC(=CC(=C2C3=C1C=CC(=C3O)O)O)O']
      },
	'2025-10-03': {
	num: '33', formula: 'C<sub>9</sub>H<sub>15</sub>NO',
        ir: ['3077', '2964', '2862', '1631'], uv: ['None'],
	hnmrFreq: "200 MHz", hnmrImage: '2025/10/03/HNMR.png', cnmrImage: '2025/10/03/CNMR.png',
        answer: 0, smiles: [
          'C1=C(CCC1)N2CCOCC2','N1(C2CCC=C2)CCOCC1','N1(C2CC=CC2)CCOCC1','N1(C2CCCC2)C=COCC1','CN1C2CCCC1CC(=O)C2','CC1=C(OC(=N1)CC(C)C)C','C1CCC2(CC1)CC(=O)NC2', 'CC/C=C\CCOCCC#N', 'CCC(C)(CC)C(=O)CC#N','C1CCC2(CC1)CCC(=O)N2','CCC1=C(OC(=N1)C(C)C)C','CCC1=C(N=C(O1)C(C)C)C']
      },
	'2025-10-04': {
	num: '34', formula: 'C<sub>9</sub>H<sub>14</sub>S',
        ir: ['2986', '2936', '2849', '1432'], uv: ['None'],
	hnmrFreq: "200 MHz", hnmrImage: '2025/10/04/HNMR.png', cnmrImage: '2025/10/04/CNMR.png',
        answer: 0, smiles: [
          'C1(SC2C3)CC(C2)CC3C1','CC(C)(C)CC1=CC=CS1','CC(C)CCC1=CC=CS1','CC1=CC(=C(S1)C)C(C)C','CC#CSC1CCCCC1','CSC#CC1CCCCC1','CC1=CC=C(S1)C(C)(C)C', 'C1CC=C2C(C1)CCCS2', 'C1CC2CCCC(C1)C2=S','CC1(C2CCC(C2)C1=S)C','C1CCC2CC(=S)CC2C1','CC1C2CC3C1SC3C2C']
      },
	'2025-10-05': {
	num: '35', formula: 'C<sub>6</sub>H<sub>12</sub>SO<sub>2</sub>',
        ir: ['2982', '2906', '2559', '1725'], uv: ['None'],
	hnmrFreq: "200 MHz", hnmrImage: '2025/10/05/HNMR.png', cnmrImage: '2025/10/05/CNMR.png',
        answer: 0, smiles: [
          'O=C(OCC)CC(C)S','CCOC(=O)CCSC','CC(=O)OCCCSC','CCC(C(=O)OC)SC','CCCOC(=O)C(C)S','CCCCOC(=O)CS','CCOC(=O)C(C)(C)S','CC(C)(C)SCC(=O)O', 'CC(CCOC(=O)C)S','CC(C)CC(C(=O)O)S','CCSCCCC(=O)O','C(CCC(=O)O)CCS']
      },
	'2025-10-06': {
	num: '36', formula: 'C<sub>9</sub>H<sub>9</sub>F',
        ir: ['3078', '3032', '2956', '2857'], uv: ['252 nm'],
	hnmrFreq: "200 MHz", hnmrImage: '2025/10/06/HNMR.png', cnmrImage: '2025/10/06/CNMR.png',
        answer: 0, smiles: [
          'FC1=CC=CC2=C1CCC2','CC(=C)C1=CC(=CC=C1)F','C=CCC1=CC(=CC=C1)F','C/C(=C\F)/C1=CC=CC=C1','CC1=CC=CC=C1C(=C)F','C/C=C/C1=CC=CC=C1F','CC1=C(C=CC(=C1)F)C=C','C1C(CC2=CC=CC=C21)F', 'C1CC2=C(C1)C=C(C=C2)F','CC1=CC(=C)C(=CC1=C)F','CC1=C(C=CC=C1F)C=C','C=CCC1=CC=CC=C1F']
      },
	'2025-10-07': {
	num: '37', formula: 'C<sub>8</sub>H<sub>10</sub>',
        ir: ['2980', '2935'], uv: ['None'],
	hnmrFreq: "200 MHz", hnmrImage: '2025/10/07/HNMR.png', cnmrImage: '2025/10/07/CNMR.png',
        answer: 0, smiles: [
          'C12CCC1C3C2CC3','CC1=CC=CC=C1C','CC1=CC=C(C=C1)C','CC1=CC(=CC=C1)C','C#CCCCCC#C','CCC#CC#CCC', 'CC(=C)C#CC(=C)C','C=C/C=C/C=C/C=C', 'C1CC1C#CC2CC2','C1C2CC1C3CC2C3','C1CC2CC3C1CC23','C1CC2C3CC2C3C1']
      },
	'2025-10-08': {
	num: '38', formula: 'C<sub>8</sub>H<sub>5</sub>Cl<sub>3</sub>',
        ir: ['3009', '1635'], uv: ['245 nm'],
	hnmrFreq: "200 MHz", hnmrImage: '2025/10/08/HNMR.png', cnmrImage: '2025/10/08/CNMR.png',
        answer: 0, smiles: [
          'ClC1=C(Cl)\C=C/C=C(Cl)\C=C/1','ClC1=C\C(Cl)=C/C(Cl)=C\C=C/1','ClC1=C\C(Cl)=C/C=C(Cl)\C=C/1','ClC1=C(Cl)\C(Cl)=C/C=C\C=C/1','ClC1=C(Cl)\C=C(Cl)/C=C\C=C/1','C1=CC=C(C=C1)C(=C(Cl)Cl)Cl', 'C=CC1=C(C=C(C=C1Cl)Cl)Cl','C1=CC=C(C(=C1)C=C(Cl)Cl)Cl', 'C=CC1=C(C(=C(C=C1)Cl)Cl)Cl','C1=CC(=C(C=C1Cl)/C=C/Cl)Cl','C=CC1=CC(=C(C(=C1)Cl)Cl)Cl','C=C(C1=CC(=C(C=C1)Cl)Cl)Cl']
      },
	'2025-10-09': {
	num: '39', formula: 'C<sub>9</sub>H<sub>21</sub>OP',
        ir: ['2976', '2945', '2891'], uv: ['None'],
	hnmrFreq: "200 MHz", hnmrImage: '2025/10/09/HNMR.png', cnmrImage: '2025/10/09/CNMR.png',
        answer: 0, smiles: [
          'O=P(CCCC)(C(C)C)CC','O=P(CCC)(C(C)(C)C)CC','O=P(CCC)(C(CC)C)CC','O=P(C(C)C)(C(C)C)C(C)C','O=P(CCCC)(CCC)CC','CCCC(C)(C)OP(C)CC', 'CCCOP(CCC)CCC','CCCCP(CCCC)OC', 'CCCCCC(CC)CPO','CC(C)(C)C(C(C)(C)C)OP','CCC(C(CC)(CC)P)OC','CCCCCC(CC)P(C)O']
      },
	'2025-10-10': {
	num: '40', formula: 'C<sub>5</sub>H<sub>11</sub>NO<sub>2</sub>Se',
        ir: ['2922', '2860', '2600', '2116', '1587', '1510'], uv: ['None'],
	hnmrFreq: "80 MHz", hnmrImage: '2025/10/10/HNMR.png', cnmrImage: '2025/10/10/CNMR.png',
        answer: 0, smiles: [
          'OC(C(N)CC[Se]C)=O','CC[Se]CC(C(=O)O)N','C(CN)C[Se]CC(=O)O','C[Se]CCC(C(=O)N)O', 'COC(=O)C(C[Se]C)N','C[Se]CCC(N)OC=O','CC(C(=O)OC)(N)[Se]C','CC(C(C(=O)O)[Se]C)N', 'OC(C(N)[Se]CCC)=O','CC(C(C(=O)O)N)[Se]C','O=COC(N)C[Se]CC','O=COC(N)[Se]CCC']
      },


    };

const today = new Date();
const dateStr = today.toISOString().split('T')[0]; // YYYY-MM-DD
	won = false;
	archive = false;
	if (getCookie(dateStr + "-won") === "true") won = true; 
	current = puzzles["default"];
	if (dateStr in puzzles) current = puzzles[dateStr]; // first puzzle in file
	else current = puzzles["default"];
	
	const yesterday = new Date(today - 86400000);
	const yesterdayStr = yesterday.toISOString().split('T')[0]; // YYYY-MM-DD
	streak = 0;
	if ((getCookie("lastPlayed") === yesterdayStr || getCookie("lastPlayed") === dateStr) && getCookie("streak") !== "") {
		streak = Number(getCookie("streak"));
	}
	longestStreak = 0;
	if (getCookie("longestStreak") !== "") longestStreak = Number(getCookie("longestStreak"));
	gamesPlayed = 0;
	if (getCookie("gamesPlayed") !== "") gamesPlayed = Number(getCookie("gamesPlayed"));

    lives_stored = getCookie(dateStr + "-lives");
    if (lives_stored === "") lives_stored = "5";
    let lives = Number(lives_stored);
    const grid = document.getElementById('grid');
    const livesEl = document.getElementById('lives');
    const streakEl = document.getElementById('streak');
    livesEl.textContent = lives;
    streakEl.textContent = streak;

	let correct_smiles = current.smiles[current.answer];
	shuffle(current.smiles);
	current.answer = current.smiles.indexOf(correct_smiles);

    function renderSMILES(){
        let moleculeOptions = {};
        let reactionOptions = {};
      if (document.getElementById("themeToggle").checked) {
		setCookie("theme", "dark", 365);
		document.getElementById("icon").className = "icon-dark";
		document.getElementById("hnmrImage").style.filter = "invert()";
		document.getElementById("cnmrImage").style.filter = "invert()";
		document.getElementById("2Dicon").style.filter = "invert()";
	}
      else {
		setCookie("theme", "light", 365);
		document.getElementById("icon").className = "icon";
		document.getElementById("hnmrImage").style.filter = "";
		document.getElementById("cnmrImage").style.filter = "";
		document.getElementById("2Dicon").style.filter = "";
	}

      current.smiles.forEach((src,i)=>{

        let sd = new SmiDrawer(moleculeOptions, reactionOptions);
	let ID = "img-" + i.toString()	;
	if ( document.getElementById("themeToggle").checked === false ) {
		sd.draw(src, "#" + ID, "light");	
	} else {
		sd.draw(src, "#" + ID, "dark");
	}
	});

}

    function renderPuzzle(){
      document.getElementById('formula').innerHTML = "<h3>Molecular Formula: " + current.formula + "</h3>";
      document.getElementById('ir').innerHTML = current.ir.map(p=>`${p} cm‚Åª¬π`).join(', ');
      document.getElementById('uv').innerHTML = current.uv.map(p=>`${p}`).join(', ');
      document.getElementById('hnmrImage').src = current.hnmrImage;
      document.getElementById('cnmrImage').src = current.cnmrImage;
      document.getElementById('number').innerHTML = "#" + current.num;
      document.getElementById('hnmrFreq').innerHTML = current.hnmrFreq;

      document.getElementById('hnmrImage').onclick = () => openFullscreen(current.hnmrImage);
      document.getElementById('cnmrImage').onclick = () => openFullscreen(current.cnmrImage);

      grid.innerHTML = '';
      current.smiles.forEach((src,i)=>{
        const tile = document.createElement('div');
        tile.className = 'tile';
	if (i === current.answer) {
		tile.id = "correct_tile";
	}
        const img = document.createElement('img');
	img.id = "img-" + i.toString();

        tile.appendChild(img);
        tile.addEventListener('click', ()=>{
          if(tile.classList.contains('correct') || tile.classList.contains('incorrect') || lives <= 0 || won) return;
          if(i === current.answer){
            tile.classList.add('correct');
	    won = true;
	    if (!archive) {
	    setCookie(dateStr + "-" + src.replace(/=/g, "~"), "correct", 1);
	    setCookie(dateStr + "-won", "true", 1);
	    streak++;
	    longestStreak = Math.max(longestStreak, streak);
	    setCookie("longestStreak", longestStreak, 365);
	    setCookie("streak", streak, 365);
	    setCookie("lastPlayed", dateStr, 365);
		gamesPlayed++;
		setCookie("gamesPlayed", gamesPlayed, 365);
	    streakEl.textContent = streak;
		updateLivesDistribution(lives);
	    showWinModal();
	    }
		else { showArchiveWinModal(); }
          } else {
            tile.classList.add('incorrect');
            lives--;
            livesEl.textContent = lives;
	
	   if (!archive) {
	    setCookie(dateStr + "-lives", lives.toString(), 1);
	    setCookie(dateStr + "-" + src.replace(/=/g, "~"), "incorrect", 1);
		}
            if(lives <= 0){
		document.getElementById("correct_tile").classList.add('correct');
		if (!archive) {
       	        setCookie(dateStr + "-" + correct_smiles.replace(/=/g, "~"), "correct", 1);
		gamesPlayed++;
		setCookie("gamesPlayed", gamesPlayed, 365);
		updateLivesDistribution(0);
		}
		showLoseModal();
            }
          }
        });

	if (getCookie(dateStr + "-" + src.replace(/=/g, "~")) === "incorrect") {
            tile.classList.add('incorrect');
	} else if (getCookie(dateStr + "-" + src.replace(/=/g, "~")) === "correct") {
            tile.classList.add('correct');
	}	

        grid.appendChild(tile);        

      });

	/*
    if (getCookie("theme") === "dark") {
//	document.getElementById("themeToggle").checked = true;
//        document.body.classList.toggle('dark', e.target.checked);
    }
	*/

    }

document.getElementById('closeWin').addEventListener('click', () => {
  document.getElementById('winModal').style.display = 'none';
});

document.getElementById('closeArchiveWin').addEventListener('click', () => {
  document.getElementById('winArchiveModal').style.display = 'none';
});

document.getElementById('closeLose').addEventListener('click', () => {
  document.getElementById('loseModal').style.display = 'none';
});

document.getElementById('statsBtn').addEventListener('click', () => {
  updateStatsModal();
  document.getElementById('statsModal').style.display = 'flex';
});

document.getElementById('weeklyBtn').addEventListener('click', () => {
  window.location.href = "Weekly";
});

document.getElementById('closeStats').addEventListener('click', () => {
  document.getElementById('statsModal').style.display = 'none';
});


document.getElementById('shareBtn').addEventListener('click', () => {
  const shareText = `I solved today‚Äôs NMRdle with ${lives} ‚ù§Ô∏è remaining. Try to beat me! https://tmncollins.github.io/Tired-Programmer/NMRdle/`;
  navigator.clipboard.writeText(shareText).then(() => {
    alert('Result copied to clipboard!');
  });
});

function shuffle(array) {
  let currentIndex = array.length;

  // While there remain elements to shuffle...
  while (currentIndex != 0) {

    // Pick a remaining element...
    let randomIndex = Math.floor(Math.random() * currentIndex);
    currentIndex--;

    // And swap it with the current element.
    [array[currentIndex], array[randomIndex]] = [
      array[randomIndex], array[currentIndex]];
  }
}

function showWinModal(){
  let NUM = document.getElementById('number').innerHTML;
  if (lives === 1)
  document.getElementById('winMessage').textContent = 
    'You solved NMRdle ' + NUM + ` with ${lives} life remaining!`;
  else
  document.getElementById('winMessage').textContent = 
    'You solved NMRdle ' + NUM + ` with ${lives} lives remaining!`;
  document.getElementById('winModal').style.display = 'flex';
}

function showArchiveWinModal(){
  let NUM = document.getElementById('number').innerHTML;
  if (lives === 1)
  document.getElementById('winArchiveMessage').textContent = 
    'You solved NMRdle ' + NUM + ` with ${lives} life remaining!`;
  else
  document.getElementById('winArchiveMessage').textContent = 
    'You solved NMRdle ' + NUM + ` with ${lives} lives remaining!`;
  document.getElementById('winArchiveModal').style.display = 'flex';
}

function showLoseModal(){
  document.getElementById('loseModal').style.display = 'flex';
}

function updateStatsModal(){
renderStats();
  document.getElementById('gamesPlayed').textContent = gamesPlayed;
  document.getElementById('currentStreak').textContent = streak;
  document.getElementById('longestStreak').textContent = longestStreak;
}

function setCookie(cname, cvalue, exdays) {
  const d = new Date();
  d.setTime(d.getTime() + (exdays*24*60*60*1000));
  let expires = "expires="+ d.toUTCString();
  document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
}

function getCookie(cname) {
  let name = cname + "=";
  let decodedCookie = decodeURIComponent(document.cookie);
  let ca = decodedCookie.split(';');
  for(let i = 0; i <ca.length; i++) {
    let c = ca[i];
    while (c.charAt(0) == ' ') {
      c = c.substring(1);
    }
    if (c.indexOf(name) == 0) {
      return c.substring(name.length, c.length);
    }
  }
  return "";
}

function updateLivesDistribution(finalLives) {
  let dist = JSON.parse(getCookie('livesDistribution') || '{}');
  if (!dist[finalLives]) dist[finalLives] = 0;
  dist[finalLives]++;
  setCookie('livesDistribution', JSON.stringify(dist), 365);
}

function renderStats() {
  let dist = JSON.parse(getCookie('livesDistribution') || '{}');
  const bar = document.getElementById('livesBar');
  bar.innerHTML = ''; // clear old segments

  let total = Object.values(dist).reduce((a, b) => a + b, 0);
  if (total === 0) return; // nothing yet

  for (let i = 0; i <= 5; i++) {
    let count = dist[i] || 0;
    if (count > 0) {
      const seg = document.createElement('div');
      seg.className = `bar-segment lives-${i}`;
      seg.style.flex = count; // proportional width
      seg.textContent = i;
      bar.appendChild(seg);
    }
  }
}

    renderPuzzle();

    renderSMILES();

    document.getElementById('themeToggle').addEventListener('change', (e)=>{
      document.body.classList.toggle('dark', e.target.checked);
      renderSMILES();
    });

    function openFullscreen(src){
      const overlay = document.getElementById('fullscreenOverlay');
      const fullImg = document.getElementById('fullscreenImage');
      fullImg.src = src;
      if (document.getElementById("themeToggle").checked) fullImg.style.filter = "invert()";
      else fullImg.style.filter = "";
      overlay.style.display = 'flex';
    }
    document.getElementById('closeFullscreen').onclick = () => {
      document.getElementById('fullscreenOverlay').style.display = 'none';
    }
// About modal logic
const aboutModal = document.getElementById('aboutModal');
const infoBtn = document.getElementById('infoBtn');
const closeAbout = document.getElementById('closeAbout');

infoBtn.onclick = () => { aboutModal.style.display = 'flex'; };
closeAbout.onclick = () => { aboutModal.style.display = 'none'; };
window.onclick = (e) => { if (e.target === aboutModal) aboutModal.style.display = 'none'; };

const donateBtn = document.getElementById('donateBtn');
const donateModal = document.getElementById('donateModal');
const closeDonate = document.getElementById('closeDonate');
const donateAction = document.getElementById('donateAction');

donateBtn.onclick = () => { donateModal.style.display = 'flex'; }
closeDonate.onclick = () => { donateModal.style.display = 'none'; }
donateModal.onclick = (e) => { if(e.target === donateModal) donateModal.style.display = 'none'; }

donateAction.onclick = () => {
  window.open("https://www.paypal.com/donate/?hosted_button_id=H7APFQSKQAEAW"); // replace with your link
}


  const startModal = document.getElementById('startModal');
  const opt1 = document.getElementById('startOpt1');
  const opt2 = document.getElementById('startOpt2');

  function hideStartModal(){
    if(startModal) startModal.style.display = 'none';
  }

    opt1.addEventListener('click', () => {
      hideStartModal();
    });
    opt2.addEventListener('click', () => {
	window.location.href = "Weekly";

    });



// Calendar modal logic
const calendarModal = document.getElementById("calendarModal");
document.getElementById("closeCalendar").onclick = () => {
  calendarModal.style.display = "none";
};
document.getElementById("loadDateBtn").onclick = () => {
  const dateVal = document.getElementById("puzzleDate").value;
  if(dateVal){
    // Try loading that puzzle from your puzzles object or file
    if (puzzles[dateVal]) {
      current = puzzles[dateVal];
    } else {
      current = puzzles["default"];
      alert("No puzzle found for " + dateVal + ", loading default.");
    }
    let correct_smiles = current.smiles[current.answer];
//    shuffle(current.smiles);
    current.answer = current.smiles.indexOf(correct_smiles);
    archive = true;
    lives = 5;
    won = false;
    livesEl.textContent = lives;
    renderPuzzle();
    renderSMILES();
    calendarModal.style.display = "none";
  }
};

const puzzleDateInput = document.getElementById("puzzleDate");
const startDate = "2025-08-16"; // üîí earliest available puzzle
// helper to mark today
function updateDateHighlight() {
  const today = new Date().toISOString().split('T')[0];
  if (puzzleDateInput.value === today) {
    puzzleDateInput.classList.add("today-selected");
  } else {
    puzzleDateInput.classList.remove("today-selected");
  }
}

// Open modal: default = today
document.getElementById("calendarBtn").onclick = () => {
  const today = new Date().toISOString().split('T')[0];
  puzzleDateInput.value = yesterdayStr;
  puzzleDateInput.max = yesterdayStr;
  puzzleDateInput.min = startDate;
  updateDateHighlight();
  calendarModal.style.display = "flex";
};

// Change event: update highlight if not today
puzzleDateInput.addEventListener("input", updateDateHighlight);


  </script>
</body>


</html>
